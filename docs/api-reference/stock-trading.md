# è‚¡ç¥¨äº¤æ˜“API

> ðŸ“– **å¯¼èˆª**: [APIæ–‡æ¡£ä¸»é¡µ](README.md) | [è¡Œæƒ…æ•°æ®](market-data.md) | [æŠ€æœ¯æŒ‡æ ‡](technical-indicators.md) | [æ•°æ®å¯¹è±¡](objects.md)

æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»äº† Ptrade å¹³å°ä¸­ç”¨äºŽè‚¡ç¥¨åŠå…¶ä»–è¯åˆ¸äº¤æ˜“çš„å„ç±»APIå‡½æ•°ï¼ŒåŒ…æ‹¬åŸºç¡€ä¸‹å•ã€é«˜çº§äº¤æ˜“ã€è®¢å•ä¸ŽæŒä»“æŸ¥è¯¢ç­‰ã€‚

---

## åŸºç¡€ä¸‹å•å‡½æ•°

è¿™äº›å‡½æ•°æ˜¯æ‰§è¡Œä¹°å–æ“ä½œæœ€åŸºæœ¬çš„æ–¹å¼ã€‚

### `order()` - æŒ‰æ•°é‡ä¸‹å•

-   **æŽ¥å£è¯´æ˜Ž**: æŒ‰æŒ‡å®šçš„æ•°é‡ä¹°å…¥æˆ–å–å‡ºè¯åˆ¸ã€‚æ”¯æŒè‚¡ç¥¨ã€å¯è½¬å€ºã€ETFã€LOFåŠå›½å€ºé€†å›žè´­ã€‚
-   **å‚æ•°**:
    -   `security` (str): è¯åˆ¸ä»£ç ã€‚
    -   `amount` (int): äº¤æ˜“æ•°é‡ã€‚æ­£æ•°è¡¨ç¤ºä¹°å…¥ï¼Œè´Ÿæ•°è¡¨ç¤ºå–å‡ºã€‚
    -   `limit_price` (float, optional): é™ä»·ã€‚è‹¥ä¸æŒ‡å®šï¼Œåˆ™æŒ‰å¸‚ä»·å§”æ‰˜ã€‚
-   **è¿”å›ž**: `Order` å¯¹è±¡çš„ `id` (str) æˆ– `None`ã€‚

### `order_target()` - æŒ‰ç›®æ ‡æ•°é‡ä¸‹å•

-   **æŽ¥å£è¯´æ˜Ž**: è°ƒæ•´æŒ‡å®šè¯åˆ¸çš„æŒä»“åˆ°ç›®æ ‡æ•°é‡ã€‚
-   **æ³¨æ„äº‹é¡¹**: äº¤æ˜“ä¸­å› æŒä»“åŒæ­¥å»¶è¿Ÿï¼Œé¢‘ç¹è°ƒç”¨å¯èƒ½å¯¼è‡´é‡å¤ä¸‹å•ï¼Œå»ºè®®è°¨æ…Žä½¿ç”¨ã€‚
-   **å‚æ•°**:
    -   `security` (str): è¯åˆ¸ä»£ç ã€‚
    -   `amount` (int): æœŸæœ›çš„ç›®æ ‡æŒä»“æ•°é‡ã€‚
    -   `limit_price` (float, optional): é™ä»·ã€‚
-   **è¿”å›ž**: `Order` å¯¹è±¡çš„ `id` (str) æˆ– `None`ã€‚

### `order_value()` - æŒ‰ä»·å€¼ä¸‹å•

-   **æŽ¥å£è¯´æ˜Ž**: ä¹°å…¥æˆ–å–å‡ºæŒ‡å®šä»·å€¼çš„è¯åˆ¸ã€‚
-   **å‚æ•°**:
    -   `security` (str): è¯åˆ¸ä»£ç ã€‚
    -   `value` (float): äº¤æ˜“ä»·å€¼ã€‚æ­£æ•°è¡¨ç¤ºä¹°å…¥ï¼Œè´Ÿæ•°è¡¨ç¤ºå–å‡ºã€‚
    -   `limit_price` (float, optional): é™ä»·ã€‚
-   **è¿”å›ž**: `Order` å¯¹è±¡çš„ `id` (str) æˆ– `None`ã€‚

### `order_target_value()` - æŒ‰ç›®æ ‡ä»·å€¼ä¸‹å•

-   **æŽ¥å£è¯´æ˜Ž**: è°ƒæ•´æŒ‡å®šè¯åˆ¸çš„æŒä»“åˆ°ç›®æ ‡ä»·å€¼ã€‚
-   **æ³¨æ„äº‹é¡¹**: ä¸Ž `order_target` ç±»ä¼¼ï¼Œäº¤æ˜“ä¸­éœ€è°¨æ…Žä½¿ç”¨ä»¥é¿å…é‡å¤ä¸‹å•ã€‚
-   **å‚æ•°**:
    -   `security` (str): è¯åˆ¸ä»£ç ã€‚
    -   `value` (float): æœŸæœ›çš„ç›®æ ‡æŒä»“ä»·å€¼ã€‚
    -   `limit_price` (float, optional): é™ä»·ã€‚
-   **è¿”å›ž**: `Order` å¯¹è±¡çš„ `id` (str) æˆ– `None`ã€‚

---

## é«˜çº§äº¤æ˜“å‡½æ•°

### `order_market()` - å¸‚ä»·å§”æ‰˜

-   **ä½¿ç”¨åœºæ™¯**: ä»…äº¤æ˜“æ¨¡å—å¯ç”¨ã€‚
-   **æŽ¥å£è¯´æ˜Ž**: ä½¿ç”¨äº¤æ˜“æ‰€æ”¯æŒçš„å¤šç§å¸‚ä»·å•ç±»åž‹è¿›è¡Œå§”æ‰˜ã€‚
-   **å‚æ•°**:
    -   `security` (str): è¯åˆ¸ä»£ç ã€‚
    -   `amount` (int): äº¤æ˜“æ•°é‡ã€‚
    -   `market_type` (int): å¸‚ä»·å§”æ‰˜ç±»åž‹ï¼ˆå¦‚ `0`: å¯¹æ‰‹æ–¹æœ€ä¼˜ä»·ï¼Œ`1`: æœ€ä¼˜äº”æ¡£å³æ—¶æˆäº¤å‰©ä½™è½¬é™ä»·ç­‰ï¼‰ã€‚
    -   `limit_price` (float, optional): ä¿æŠ¤é™ä»·ï¼Œå¯¹ä¸Šäº¤æ‰€è‚¡ç¥¨ä¸ºå¿…å¡«é¡¹ã€‚
-   **è¿”å›ž**: `None`ã€‚

### `order_tick()` - Tick è¡Œæƒ…è§¦å‘ä¸‹å•

-   **ä½¿ç”¨åœºæ™¯**: ä»…åœ¨ `tick_data` å‡½æ•°å†…å¯ç”¨ã€‚
-   **æŽ¥å£è¯´æ˜Ž**: æ ¹æ®å®žæ—¶ Tick è¡Œæƒ…è¿›è¡Œä¸‹å•ï¼Œå¯æŒ‡å®šä¹°å–ç›˜å£æ¡£ä½ã€‚
-   **å‚æ•°**:
    -   `sid` (str): è¯åˆ¸ä»£ç ã€‚
    -   `amount` (int): äº¤æ˜“æ•°é‡ã€‚
    -   `priceGear` (str): ç›˜å£æ¡£ä½ï¼Œå¦‚ `'1'` (ä¹°ä¸€), `'-1'` (å–ä¸€)ã€‚
    -   `limit_price` (float, optional): æŒ‡å®šä»·æ ¼ï¼Œä¼˜å…ˆçº§é«˜äºŽ `priceGear`ã€‚
-   **è¿”å›ž**: å§”æ‰˜æµæ°´å· (str)ã€‚

### `ipo_stocks_order()` - æ–°è‚¡/æ–°å€ºç”³è´­

-   **ä½¿ç”¨åœºæ™¯**: ä»…äº¤æ˜“æ¨¡å—å¯ç”¨ã€‚
-   **æŽ¥å£è¯´æ˜Ž**: ä¸€é”®ç”³è´­å½“æ—¥æ‰€æœ‰å¯ç”³è´­çš„æ–°è‚¡å’Œæ–°å€ºã€‚
-   **å‚æ•°**:
    -   `market_type` (int, optional): æŒ‰å¸‚åœºç”³è´­ï¼Œå¦‚ `0` (ä¸Šè¯Aè‚¡), `1` (ç§‘åˆ›æ¿), `4` (å¯è½¬å€º)ã€‚
    -   `black_stocks` (str or list, optional): ä¸å‚ä¸Žç”³è´­çš„é»‘åå•ã€‚
-   **è¿”å›ž**: `dict`ï¼ŒåŒ…å«å„ç”³è´­å§”æ‰˜çš„è¯¦ç»†ä¿¡æ¯ã€‚

### `after_trading_order()` - ç›˜åŽå›ºå®šä»·å§”æ‰˜

-   **ä½¿ç”¨åœºæ™¯**: ä»…äº¤æ˜“æ¨¡å—å¯ç”¨ã€‚
-   **æŽ¥å£è¯´æ˜Ž**: åœ¨ç›˜åŽäº¤æ˜“æ—¶æ®µï¼ˆ15:05-15:30ï¼‰æäº¤å›ºå®šä»·æ ¼å§”æ‰˜ã€‚
-   **å‚æ•°**:
    -   `security` (str): è¯åˆ¸ä»£ç ã€‚
    -   `amount` (int): äº¤æ˜“æ•°é‡ã€‚
    -   `entrust_price` (float): å§”æ‰˜ä»·æ ¼ï¼Œå¿…é¡»ä¸ºå½“æ—¥æ”¶ç›˜ä»·ã€‚
-   **è¿”å›ž**: `Order` å¯¹è±¡çš„ `id` (str) æˆ– `None`ã€‚

### `etf_basket_order()` / `etf_purchase_redemption()` - ETF äº¤æ˜“

-   **ä½¿ç”¨åœºæ™¯**: ä»…äº¤æ˜“æ¨¡å—å¯ç”¨ã€‚
-   **`etf_basket_order`**: ETF æˆåˆ†åˆ¸ä¸€ç¯®å­ä¸‹å•ã€‚
-   **`etf_purchase_redemption`**: ETF åŸºé‡‘ç”³è´­/èµŽå›žã€‚

---

## è®¢å•ä¸ŽæŒä»“ç®¡ç†

### æŸ¥è¯¢æŒä»“

-   **`get_position(security)`**: èŽ·å–å•ä¸ªæ ‡çš„çš„ [Positionå¯¹è±¡](objects.md#Position)ã€‚
-   **`get_positions()`**: èŽ·å–æ‰€æœ‰æŒä»“çš„ [Positionå¯¹è±¡](objects.md#Position) å­—å…¸ã€‚

### æŸ¥è¯¢è®¢å•

-   **`get_orders(security=None)`**: èŽ·å–**æœ¬ç­–ç•¥**å½“æ—¥äº§ç”Ÿçš„æ‰€æœ‰è®¢å•ã€‚
-   **`get_open_orders(security=None)`**: èŽ·å–**æœ¬ç­–ç•¥**å½“æ—¥æ‰€æœ‰æœªå®Œæˆçš„è®¢å•ã€‚
-   **`get_order(order_id)`**: èŽ·å–**æœ¬ç­–ç•¥**æŒ‡å®šçš„å•ä¸ªè®¢å•ã€‚
-   **`get_all_orders(security=None)`**: èŽ·å–**è¯¥è´¦æˆ·**å½“æ—¥æ‰€æœ‰å§”æ‰˜è®°å½•ï¼ˆåŒ…æ‹¬æ‰‹åŠ¨ä¸‹å•å’Œå…¶ä»–ç­–ç•¥çš„è®¢å•ï¼‰ã€‚
-   **`get_trades()`**: èŽ·å–**æœ¬ç­–ç•¥**å½“æ—¥æ‰€æœ‰æˆäº¤è®°å½•ã€‚

### æ’¤é”€è®¢å•

-   **`cancel_order(order_param)`**: æ ¹æ® `Order` å¯¹è±¡æˆ– `order_id` æ’¤é”€æœ¬ç­–ç•¥çš„è®¢å•ã€‚
-   **`cancel_order_ex(order_param)`**: æ ¹æ®ä»Ž `get_all_orders()` èŽ·å–çš„è®¢å•ä¿¡æ¯å­—å…¸ï¼Œæ’¤é”€è´¦æˆ·å†…çš„ä»»æ„è®¢å•ã€‚
-   **`after_trading_cancel_order(order_param)`**: æ’¤é”€ç›˜åŽå›ºå®šä»·å§”æ‰˜ã€‚

---

## ðŸ“š ç›¸å…³æ–‡æ¡£

- [**è¡Œæƒ…æ•°æ®API**](market-data.md) - èŽ·å–è‚¡ç¥¨ä»·æ ¼ã€Kçº¿ç­‰è¡Œæƒ…æ•°æ®
- [**æŠ€æœ¯æŒ‡æ ‡API**](technical-indicators.md) - è®¡ç®—MACDã€KDJã€RSIç­‰æŠ€æœ¯æŒ‡æ ‡
- [**æ•°æ®å¯¹è±¡å®šä¹‰**](objects.md) - Orderã€Positionã€Securityç­‰å¯¹è±¡è¯¦ç»†è¯´æ˜Ž
- [**æœŸè´§äº¤æ˜“API**](futures.md) - æœŸè´§åˆçº¦äº¤æ˜“æŽ¥å£
- [**æœŸæƒäº¤æ˜“API**](options.md) - æœŸæƒåˆçº¦äº¤æ˜“æŽ¥å£
- [**èžèµ„èžåˆ¸API**](margin-trading.md) - ä¿¡ç”¨äº¤æ˜“ç›¸å…³æŽ¥å£

> ðŸ”™ **è¿”å›ž**: [APIæ–‡æ¡£ä¸»é¡µ](README.md) | [å®Œæ•´APIåˆ†ç±»](../api-classification.md)
